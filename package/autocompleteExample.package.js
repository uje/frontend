!function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var s=i(1),n=i(3);s.get("./data/data.json",function(t){var e=JSON.parse(t);new n({el:"#keyword",data:e})})},function(t,e){function i(t){t=t||{},t.type=t.type||"get",t.done=t.done||n,t.fail=t.fail||n;var e=t.data?s(t.data):null;if(null==t.url)throw Error("ajax::options.url undefine");var i=new XMLHttpRequest;return i.onreadystatechange=function(){4==i.readyState&&200==i.status&&t.done(i.responseText)},i.onerror=t.fail,i.open(t.type,t.url,!0),i.send(e),i}function s(t){if("object"!=typeof t)return t;var e=[];for(var i in t){var s=t[i];i&&null!=s&&e.push([i,encodeURIComponent(s)].join("="))}return e.join("&")}var n=function(){};i.get=function(t,e,s){var n={};return"object"==typeof t?n=t:n.url=t,n.method="get",n.done=e,n.fail=s,i(n)},i.post=function(t,e,s,n){var a={};return"object"==typeof t?a=t:a.url=t,a.method="post",a.data=e,a.done=s,a.fail=n,i(a)},t.exports=i},function(t,e){function i(){this.events={}}i.prototype={on:function(t,e){if(null==t)throw new Error("Event::eventType undefine");if(t.indexOf(",")>-1){var i=this,s=t.split(",");s.forEach(function(t){""!==(t=t.trim())&&i.on(t,e)})}else t in this.events||(this.events[t]=[]),$.isFunction(e)&&this.events[t].push(e);return this},off:function(t,e){if(t in this.events){if(null==e)return void delete this.events[t];var i,s,n,a=this.events[t];for(i=0,s=a.length;s>i;i++)(n=a[i])==e&&a.splice(i,1);return this}},trigger:function(t,e){if(null==t)throw new Error("Event::eventType undefine");this.currentEventType=t;var i,s,n,a=this.events[t];if(console.log("trigger "+t),a)for(i=0,s=a.length;s>i;i++)if(n=a[i].apply(this,e),null!=n&&n!==!0)return n;return this}},t.exports=i},function(t,e,i){"use strict";function s(t,e){return function(){t.apply(e,[this].concat(c.call(arguments)))}}function n(){this.initialize.apply(this,arguments)}var a=i(1),r=i(2),o=i(4),l=function(){},c=Array.prototype.slice,u="ontouchstart"in document;n.prototype={initialize:function(t){o.extend(this,new r);var t=this.options=o.extend({},n.defaults,t),e=this,i=this.input=document.querySelector(t.el);i.autocomplete="off";var a=this.container=document.createElement("div");if(a.style.display="none",a.className=t.containerClass,i.parentNode.replaceChild(a,i),i.classList.add(t.inputClass),i.addEventListener("change",s(this.keyupHandler,this),!1),i.addEventListener("input",s(this.keyupHandler,this),!1),i.addEventListener("click",s(function(t,e){""!=t.value.trim()&&null!=this.data&&this.data.length>0&&(this.listContainer.style.display="block",this.keyupHandler(t),e.stopPropagation())},this),!1),i.addEventListener("keydown",s(function(i,s){if(!(null==this.items||this.items.length<1))switch(s.keyCode){case 38:if(this.focusIndex>0){this.focusIndex--,this.itemFocus();var n=this.items[this.focusIndex];e.listContainer.scrollTop>n.offsetTop&&(e.listContainer.scrollTop=n.offsetTop-e.listContainer.offsetHeight+n.offsetHeight)}break;case 40:if(this.focusIndex<this.items.length-1){this.focusIndex++,this.itemFocus();var n=this.items[this.focusIndex];e.listContainer.scrollTop+e.listContainer.offsetHeight-n.offsetHeight<n.offsetTop&&(e.listContainer.scrollTop=n.offsetTop)}break;case 13:this.items.forEach(function(i){i.classList.contains(t.itemFocusClass)&&(e.fromEnter=!0,i.click())})}},this),!1),i.addEventListener("focus",function(){a.classList.add(t.focusClass)},!1),u){var l=document.createElement("button");l.type="button",l.classList.add(t.closeClass),l.innerHTML="×",l.addEventListener("click",function(){a.classList.remove(t.focusClass)},!1),a.appendChild(l)}else i.addEventListener("blur",function(){a.classList.remove(t.focusClass)},!1);a.appendChild(i);var c,d=t.buildList(),f=this.listContainer=document.createElement("div");f.innerHTML=d,f.className=t.listContainerClass,c=this.list=f.childNodes[0],c.className=t.listClass,a.appendChild(f),c.addEventListener("click",s(this.itemClickHandler,this),!1),this.emptyTemplate=t.buildEmptyTemplate(),a.style.display="inline-block",o.isArray(t.data)&&(this.data=t.data),document.addEventListener("click",function(){f.style.display="none"},!1),this.trigger("created")},keyupHandler:function(t,e){var i=this,s=i.options;i.keyupTimeID&&clearTimeout(i.keyupTimeID),i.keyupTimeID=setTimeout(function(){var e,n=t.value.trim();if(""===n.trim())return void(i.listContainer.style.display="none");if(i.fromEnter)return void(i.fromEnter=!1);if(i.lastValue!==n){if(i.lastValue=n,o.isArray(s.data)){var r=i.filterData=s.filter(i.data,n);return void i.render(r)}e=s.data.replace("{0}",n),a({type:"get",url:e,done:function(t){try{var e=i.data=s.formatData(JSON.parse(t));i.render(e)}catch(n){i.list.innerHTML=i.emptyTemplate,i.listContainer.style.display="block"}},fail:function(){i.list.innerHTML=i.emptyTemplate}})}},i.interval)},itemClickHandler:function(t,e){var i=this.options,s=e.target.classList.contains(i.itemClass)?e.target:e.target.parentNode;if(!s.classList.contains(i.itemClass))return void e.stopPropagation();var n=this.focusIndex=s.getAttribute("data-index"),a=(this.filterData||this.data)[n],r=i.formatSelectedData(a);this.input.value=r,this.list.style.visibility="hidden",this.items.forEach(function(t){t.classList.remove(i.selectedClass)}),this.list.style.visibility="visible",this.input.focus(),s.classList.add(i.selectedClass),this.fromEnter=!1,this.trigger("selected",a)},render:function(t){var e,i=this,s=this.options,n=this.list;if(t.length>0){var a=t.map(function(t){return s.buildItem(t)}).join("");n.innerHTML=a,e=this.items=c.call(n.childNodes),e.forEach(function(t,e){t.className=[s.itemClass,e%2===0?s.oddClass:s.evenClass].join(" "),t.setAttribute("data-index",e),i.focusIndex=0,i.itemFocus()})}else n.innerHTML=this.emptyTemplate;this.listContainer.style.display="block"},itemFocus:function(){var t=this,e=this.options;this.items.forEach(function(i,s){s===t.focusIndex?i.classList.add(e.itemFocusClass):i.classList.remove(e.itemFocusClass)})}},n.defaults={interval:500,containerClass:"ac-container",inputClass:"ac-input",closeClass:"ac-close",listContainerClass:"ac-list-container",listClass:"ac-list",itemClass:"ac-item",oddClass:"ac-odd",evenClass:"ac-even",selectedClass:"ac-selected",focusClass:"ac-focus",itemFocusClass:"ac-item-focus",buildList:function(){return"<ul></ul>"},buildItem:function(t){return'<li><a href="javascript:;">'+t+"</a></li>"},buildEmptyTemplate:function(){return'<li class="ac-empty">没有数据.</li>'},formatData:function(t){return t},formatSelectedData:function(t){return t},filter:function(t,e){for(var i,s=[],n=0,a=t.length;a>n;n++)i=t[n],new RegExp(e).test(i,"gi")&&s.push(i);return s},created:l,selected:l},t.exports=n},function(t,e){function i(t,e){if(2===arguments.length)for(var s in e){var a=e[s];null!=a&&(r(a)?(t.hasOwnProperty(s)||(t[s]={}),i(t[s],a)):t[s]=a)}else if(arguments.length>2)for(var o=n.call(arguments,1),l=0,c=o.length;c>l;l++)i(t,o[l]);return t}var s=Object.prototype.toString,n=Array.prototype.slice,a=function(t,e){return e?"object"===t&&null===e?!1:s.call(e).slice(8,-1).toLowerCase()===t:function(e){return a(t,e)}},r=a("object"),o=Array.isArray?Array.isArray:a("array");t.exports={extend:i,isObject:r,isArray:o}}]);